(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){},159:function(e,t,a){},202:function(e,t,a){e.exports=a(372)},360:function(e,t,a){},372:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=(a(129),a(19)),i=a(120),s=a.n(i),u=a(172),m=a.n(u),d=a(27),g=a(48),p=a(40),f=a(85),h=a(46),b=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"authenticateUser",value:function(e){localStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==localStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){localStorage.removeItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}}]),e}(),v=a(407),E=a(405),x=a(39),y=function(e){Object(n.useEffect)(function(){e.toggleAuthenticateStatus()},[]);var t=Object(E.a)({signUp:{background:"seagreen","&:hover":{background:"#7DCEA0"},borderRadius:60,border:0,color:"white",fontWeight:"800",height:48,padding:"25px 25px"},login:{background:"#424949","&:hover":{background:"#909497"},borderRadius:60,border:0,color:"white",fontWeight:"800",height:48,padding:"25px 25px",marginRight:"20px"},label:{textTransform:"capitalize"},homePageButtonDiv:{backgroundColor:"black"}})();return r.a.createElement("div",null,b.isUserAuthenticated()?r.a.createElement("div",{className:"container"},r.a.createElement(p.CardText,{style:{fontSize:"16px",color:"green"}},"Welcome! You are logged in.")):r.a.createElement("div",{className:"container",style:{paddingTop:"20px"}},r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"seagreen",padding:"0px",fontWeight:"bold",fontSize:"25px",margin:"0px"}},"Welcome"),r.a.createElement("h1",{className:"druggler",style:{color:"seagreen",paddingBottom:"0px",fontWeight:"bold",fontSize:"60px",marginBottom:"35px",marginTop:"15px"}},"Druggler"," "),r.a.createElement("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/wEudPZ4jTrQ",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),r.a.createElement("h3",{style:{color:"seagreen",paddingBottom:"10px",paddingTop:"10px"}},"Don't have an account? Sign up!"),r.a.createElement(v.a,{classes:{root:t.login,label:t.label},size:"large",variant:"contained",component:d.b,to:"/login",style:{width:"30%"}},"Login"),r.a.createElement(v.a,{size:"large",classes:{root:t.signUp,label:t.label},variant:"contained",component:d.b,to:"/signup",style:{width:"30%"}},"Sign up"),r.a.createElement("div",{style:{margin:"20px"}}," "),r.a.createElement(p.CardText,{style:{fontSize:"16px",color:"green"}},"You are not logged in."))))},w=a(73),k=function(e){var t=e.component,a=Object(w.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return b.isUserAuthenticated()?r.a.createElement(t,Object.assign({},e,a)):r.a.createElement(g.a,{to:{pathname:"/",state:{from:e.location}}})}}))},T=function(e){var t=e.component,a=Object(w.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return b.isUserAuthenticated()?r.a.createElement(g.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(t,Object.assign({},e,a))}}))},O=function(e){var t=e.component,a=Object(w.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return r.a.createElement(t,Object.assign({},e,a))}}))},j=a(20),C=a(36),N=a(89),S=a.n(N),D=(a(159),a(414)),A=a(69),I=a.n(A),B={color:"seagreen"},W=(Object(E.a)(function(e){return{margin:{margin:e.spacing(1)}}}),function(e){var t=e.onSubmit,a=e.onChange,n=e.errors,o=e.successMessage,c=e.user;e.toggleAuthenticateStatus;return r.a.createElement("div",{className:"container2"},r.a.createElement("form",{action:"/",onSubmit:t},r.a.createElement("h1",{className:"card-heading"},"Druggler"),r.a.createElement("img",{src:I.a,alt:"Druggler Icon",height:"30px",width:"50px",style:{margin:"0px",marginTop:"20px"}}),o&&r.a.createElement("p",{className:"success-message"},o),n.summary&&r.a.createElement("p",{className:"error-message"},n.summary),r.a.createElement("div",{className:"field-line"},r.a.createElement("span",{class:"material-icons"},"person_outline"),r.a.createElement(D.a,{style:{backgroundColor:"seagreen"},id:"input-with-icon-textfield",floatingLabelText:"Email",name:"email",errorText:n.email,onChange:a,value:c.email})),r.a.createElement("div",{style:{marginBottom:"30px"}}),r.a.createElement("div",{className:"field-line"},r.a.createElement("span",{class:"material-icons"}," lock "),r.a.createElement(D.a,{floatingLabelText:"Password",type:"password",name:"password",onChange:a,errorText:n.password,value:c.password})),r.a.createElement("div",{style:{marginBottom:"40px"}}),r.a.createElement("div",{className:"button-line"},r.a.createElement(S.a,{className:"raised-button",type:"submit",style:B,label:"Log in",danger:!0})),r.a.createElement("div",{style:{marginBottom:"50px"}}),r.a.createElement("p",null,"Don't have an account?",r.a.createElement(d.b,{to:"/signup",style:{color:"black",marginLeft:"10px"}},"Create one."))))}),R=a(30),z=a.n(R),L={login:function(e){return z.a.post("/auth/login",e)},signUp:function(e){return z.a.post("/auth/signup",e)},dashboard:function(e){return z.a.get("/api/dashboard",{headers:{Authorization:"bearer ".concat(e)}})},getDrugsConflict:function(e,t){return z.a.get("https://rxnav.nlm.nih.gov/REST/interaction/list.json?rxcuis=".concat(e),{headers:{Authorization:"bearer ".concat(t)}})},getDrugsID:function(e,t){return z.a.get("https://rxnav.nlm.nih.gov/REST/rxcui?name=".concat(e),{headers:{Authorization:"bearer ".concat(t)}})},getDrugNameList:function(){return z.a.get("https://rxnav.nlm.nih.gov/REST/displaynames")},saveDrug:function(e,t){return z.a.post("/api/drugs",e,{headers:{Authorization:"bearer ".concat(t)}})},getUser:function(e,t){return z.a.get("/api/user/"+e,{headers:{Authorization:"bearer ".concat(t)}})},saveDrugtoUser:function(e,t){return z.a.put("api/user",e,{headers:{Authorization:"bearer ".concat(t)}})},getAllUserDrugs:function(e,t){return z.a.get("api/user/drugs/"+e,{headers:{Authorization:"bearer ".concat(t)}})},removeDrug:function(e,t){return z.a.delete("api/drugs/"+e,{headers:{Authorization:"bearer ".concat(t)}})},drugTaken:function(e,t,a){return z.a.put("api/drugs/"+e,t,{headers:{Authorization:"bearer ".concat(a)}})}},q=function(e){var t=e.history,a=e.toggleAuthenticateStatus,o=Object(n.useState)({}),c=Object(l.a)(o,2),i=c[0],s=c[1],u=Object(n.useState)(""),m=Object(l.a)(u,2),d=m[0],g=m[1],p=Object(n.useState)({email:"",password:""}),f=Object(l.a)(p,2),h=f[0],v=f[1];Object(n.useEffect)(function(){var e=localStorage.getItem("successMessage"),t="";return e&&(t=e,localStorage.removeItem("successMessage")),g(t),function(){s({})}},[]);return r.a.createElement(W,{onSubmit:function(e){e.preventDefault();var n=h.email,r=h.password;L.login({email:n,password:r}).then(function(e){b.authenticateUser(e.data.token),a(),t.push("/dashboard")}).catch(function(e){var t=e.response,a=t.data.errors?t.data.errors:{};a.summary=t.data.message,s(a)})},onChange:function(e){var t=e.target,a=t.name,n=t.value;v(Object(C.a)({},h,Object(j.a)({},a,n)))},errors:i,successMessage:d,user:h})},F=function(e){var t=e.history;return Object(n.useEffect)(function(){b.deauthenticateUser(),t.push("/")},[]),r.a.createElement("div",null,r.a.createElement("p",null,"Logging out..."))},G=a(95),U=a.n(G),M={color:"seagreen"},Q=(Object(E.a)(function(e){return{margin:{margin:e.spacing(1)}}}),function(e){var t=e.onSubmit,a=e.onChange,n=e.errors,o=e.user;return r.a.createElement("div",{className:"container2"},r.a.createElement("form",{action:"/",onSubmit:t},r.a.createElement("h2",{className:"card-heading"},"Druggler"),r.a.createElement("img",{src:I.a,alt:"Druggler Icon",height:"30px",width:"50px",style:{margin:"0px",marginTop:"20px"}}),n.summary&&r.a.createElement("p",{className:"error-message"},n.summary),r.a.createElement("div",{className:"field-line"},r.a.createElement("span",{class:"material-icons"},"create"),r.a.createElement(U.a,{floatingLabelText:"Name",name:"name",errorText:n.name,onChange:a,value:o.name})),r.a.createElement("div",{className:"field-line"},r.a.createElement("span",{class:"material-icons"},"person_outline"),r.a.createElement(U.a,{style:{backgroundColor:"seagreen"},id:"input-with-icon-textfield",floatingLabelText:"Email",name:"email",errorText:n.email,onChange:a,value:o.email})),r.a.createElement("div",{className:"field-line"},r.a.createElement("span",{class:"material-icons"}," lock "),r.a.createElement(U.a,{floatingLabelText:"Password",type:"password",name:"password",onChange:a,errorText:n.password,value:o.password})),r.a.createElement("div",{style:{marginBottom:"30px"}}),r.a.createElement("div",{className:"button-line"},r.a.createElement(S.a,{type:"submit",label:"Create New Account",primary:!0,style:M})),r.a.createElement("div",{style:{marginBottom:"30px"}}),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(d.b,{to:"/login"},"Log in"))))}),P=function(e){var t=e.history,a=Object(n.useState)({}),o=Object(l.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)({email:"",name:"",password:""}),u=Object(l.a)(s,2),m=u[0],d=u[1];return r.a.createElement(Q,{onSubmit:function(e){e.preventDefault();var a=m.name,n=m.email,r=m.password;L.signUp({name:a,email:n,password:r}).then(function(e){localStorage.setItem("successMessage",e.data.message),t.push("/login"),i({})}).catch(function(e){var t=e.response,a=t.data.errors?t.data.errors:{};a.summary=t.data.message,i(Object(C.a)({},a,{errors:a}))})},onChange:function(e){var t=e.target,a=t.name,n=t.value;d(Object(C.a)({},m,Object(j.a)({},a,n)))},errors:c,user:m})},Y=a(186),_=a(182),H=a(187),X=function(e){var t=e.secretData,a=e.user;return r.a.createElement(p.Card,{className:"container"},r.a.createElement(p.CardTitle,{title:"Dashboard",subtitle:""}),t&&r.a.createElement(p.CardText,{style:{fontSize:"16px",color:"green"}},"Welcome ",r.a.createElement("strong",null,a.name),"!",r.a.createElement("br",null),t))},J=(r.a.Component,a(31)),V=a.n(J),Z=a(54),$=a(123),K=a(409),ee=a(412),te=a(92),ae=a.n(te),ne=a(415),re=(a(357),a(410)),oe=a(411),ce=a(70),le=a(185),ie=a(413),se=8;function ue(e){var t=e.data,a=e.index,n=e.style;return r.a.cloneElement(t[a],{style:Object(C.a)({},n,{top:n.top+se})})}var me=r.a.createContext({}),de=r.a.forwardRef(function(e,t){var a=r.a.useContext(me);return r.a.createElement("div",Object.assign({ref:t},e,a))});var ge=r.a.forwardRef(function(e,t){var a=e.children,n=Object(w.a)(e,["children"]),o=r.a.Children.toArray(a),c=Object(ce.a)(),l=Object(re.a)(c.breakpoints.up("sm"),{noSsr:!0}),i=o.length,s=l?36:48,u=function(e){return r.a.isValidElement(e)&&e.type===oe.a?48:s},m=function(e){var t=r.a.useRef(null);return r.a.useEffect(function(){null!=t.current&&t.current.resetAfterIndex(0,!0)},[e]),t}(i);return r.a.createElement("div",{ref:t},r.a.createElement(me.Provider,{value:n},r.a.createElement(le.a,{itemData:o,height:(i>8?8*s:o.map(u).reduce(function(e,t){return e+t},0))+2*se,width:"100%",ref:m,outerElementType:de,innerElementType:"ul",itemSize:function(e){return u(o[e])},overscanCount:5,itemCount:i},ue)))}),pe=Object(E.a)(function(e){var t,a;return{root:{flexGrow:1},listbox:{boxSizing:"border-box","& ul":{padding:0,margin:0}},title:{padding:e.spacing(2),textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"800",fontFamily:"Constantia"},drugRes:{padding:"0",textAlign:"left",color:"black",fontWeight:"bold",fontSize:"14px",width:"auto",variant:"outlined",backgroundColor:"lightgreen",border:"0.1rem solid"},drugConflict:(t={padding:"0",textAlign:"left",color:"black",fontWeight:"bold",fontSize:"14px"},Object(j.a)(t,"padding","10px"),Object(j.a)(t,"variant","outlined"),Object(j.a)(t,"backgroundColor","lightgreen"),Object(j.a)(t,"border","0.1rem solid"),t),btn:{border:"2px solid seagreen",boxShadow:e.shadows[5],borderRadius:"30px",textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"400",align:"left",overflow:"auto",fontFamily:"Constantia"},gridBtn:{padding:"30px",overflow:"auto"},input:{width:"100%"},high:(a={backgroundColor:"#ff0000",textAlign:"center",overflow:"auto",padding:"10px",borderRadius:"30px"},Object(j.a)(a,"textAlign","center"),Object(j.a)(a,"color","black"),Object(j.a)(a,"fontWeight","400"),Object(j.a)(a,"fontFamily","Constantia"),Object(j.a)(a,"border","1.65mm ridge rgba(0, 0, 0, .8)"),a),deleteButton:{textAlign:"center",overflow:"auto",height:"30px",width:"30px"}}}),fe=function(e){return[r.a.createElement(oe.a,{key:e.key,component:"div"},e.group),e.children]};function he(){var e=pe(),t=Object(n.useState)({}),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)([]),g=Object(l.a)(d,2),p=g[0],f=g[1],h=Object(n.useState)([]),b=Object(l.a)(h,2),E=b[0],x=b[1];Object(n.useEffect)(function(){L.getDrugNameList().then(function(e){x(e.data.displayTermsList.term)})},[]);var y=function(e){L.getDrugsID(e).then(function(e){m([].concat(Object($.a)(u),[{id:e.data.idGroup.rxnormId,name:e.data.idGroup.name,rxcui:e.data.idGroup.rxnormId}]))}).catch(function(e){return console.log(e)})},w=function(){var e="",t=!0,a=!1,n=void 0;try{for(var r,o=u[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var c=r.value;console.log(c.rxcui[0]),e+=c.rxcui[0]+"+"}}catch(i){a=!0,n=i}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}function l(){return(l=Object(Z.a)(V.a.mark(function t(){var a,n,r,o,c,l,i,s,u,m,d,g,h,b,v,E,x,y,w,k;return V.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getDrugsConflict(e);case 2:return a=t.sent,t.next=5,[];case 5:return n=t.sent,t.next=8,[];case 8:return r=t.sent,t.next=11,[];case 11:return o=t.sent,t.next=14,[];case 14:for(c=t.sent,l=a.data.fullInteractionTypeGroup[0].fullInteractionType,i=!0,s=!1,u=void 0,t.prev=19,m=l[Symbol.iterator]();!(i=(d=m.next()).done);i=!0)g=d.value,n.push(g.minConcept[0].rxcui+" and "+g.minConcept[1].rxcui),r.push({comments:g.comment});t.next=27;break;case 23:t.prev=23,t.t0=t.catch(19),s=!0,u=t.t0;case 27:t.prev=27,t.prev=28,i||null==m.return||m.return();case 30:if(t.prev=30,!s){t.next=33;break}throw u;case 33:return t.finish(30);case 34:return t.finish(27);case 35:for(h=a.data.fullInteractionTypeGroup[1].fullInteractionType,b=!0,v=!1,E=void 0,t.prev=39,x=h[Symbol.iterator]();!(b=(y=x.next()).done);b=!0)w=y.value,o.push(w.minConcept[0].rxcui+" and "+w.minConcept[1].rxcui),c.push({severity:w.interactionPair[0].severity});t.next=47;break;case 43:t.prev=43,t.t1=t.catch(39),v=!0,E=t.t1;case 47:t.prev=47,t.prev=48,b||null==x.return||x.return();case 50:if(t.prev=50,!v){t.next=53;break}throw E;case 53:return t.finish(50);case 54:return t.finish(47);case 55:if(c.length<r.length)for(k=1;k<r.length;k++)c.push({severity:"N/A"});f([].concat(Object($.a)(p),[{BankConcepts:n,BankDescription:r,HighConcepts:o,HighSeverity:c}]));case 57:case"end":return t.stop()}},t,null,[[19,23,27,35],[28,,30,34],[39,43,47,55],[48,,50,54]])}))).apply(this,arguments)}!function(){l.apply(this,arguments)}()},k=function(e){var t=e.target.getAttribute("name");m(u.filter(function(e){return e.name!==t}))};return r.a.createElement("div",{style:{overflowX:"hidden",overflowY:"hidden"}},r.a.createElement(ee.a,{container:!0,spacing:12},r.a.createElement(ee.a,{item:!0,xs:12,container:!0,direction:"column",justify:"center"},r.a.createElement("h1",null,"Check Drug Interactions")),r.a.createElement(ee.a,{item:!0,xs:2}),r.a.createElement(ee.a,{item:!0,xs:8},r.a.createElement("p",{style:{color:"black"}},"Add two or more drugs and pick from the list to see their interactions.")),r.a.createElement(ee.a,{item:!0,xs:2}),r.a.createElement(ee.a,{item:!0,xs:2}),r.a.createElement(ee.a,{item:!0,xs:5},r.a.createElement("div",{className:e.inputField},r.a.createElement(ne.a,{id:"drugTextField",disableListWrap:!0,className:e.input,classes:e,ListboxComponent:ge,renderGroup:fe,options:E,groupBy:function(e){return e[0].toUpperCase()},renderInput:function(e){return r.a.createElement(D.a,Object.assign({},e,{variant:"outlined",label:"Enter drug name here"}))},renderOption:function(e){return r.a.createElement(ie.a,{noWrap:!0,style:{color:"black"}},e)},onChange:function(e){return c(document.getElementById("drugTextField").value)}}))),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement("div",{className:e.inputField},r.a.createElement(v.a,{className:e.btn,type:"button",onClick:function(e){e.preventDefault(),y(o),document.getElementById("drugTextField").value="",document.getElementById("drugTextField").focus()},variant:"contained",color:"primary"},"Add Drug"))),r.a.createElement(ee.a,{item:!0,xs:3}),r.a.createElement(ee.a,{item:!0,xs:2}),r.a.createElement("div",null,r.a.createElement(ee.a,{item:!0,xs:2}),u.length?r.a.createElement("div",null,u.map(function(t){return r.a.createElement(ee.a,{container:!0,spacing:12},r.a.createElement(ee.a,{item:!0,xs:10},r.a.createElement(K.a,{className:e.drugRes},r.a.createElement("h2",{key:t.id},"Name: ",t.name),r.a.createElement("h5",null,"RXCUI: ",t.rxcui))),r.a.createElement(ee.a,{item:!0,xs:2},r.a.createElement(v.a,{style:{padding:"35px"},key:t.id,name:t.name,className:e.gridBtn,onClick:k,variant:"contained"},r.a.createElement(ae.a,{className:e.deleteButton,key:t.id,name:t.name,onClick:k}))))})):r.a.createElement("h3",null,"No Drugs Added"))),r.a.createElement("div",null,r.a.createElement(ee.a,{container:!0,spacing:12},r.a.createElement(ee.a,{item:!0,xs:2}),r.a.createElement(ee.a,{item:!0,xs:10},r.a.createElement(v.a,{className:e.btn,type:"button",onClick:function(e){e.preventDefault(),w()},variant:"contained",color:"primary"},"Submit for conflictRes")),r.a.createElement(ee.a,{item:!0,xs:2})),r.a.createElement("hr",null)),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement("div",null,p.length?p.map(function(t){return r.a.createElement(ee.a,{container:!0,spacing:12},r.a.createElement(ee.a,{item:!0,xs:8},t.BankDescription.map(function(t){return r.a.createElement(K.a,{className:e.drugConflict},r.a.createElement("h3",null,t.comments))})),r.a.createElement(ee.a,{item:!0,xs:4},t.HighSeverity.map(function(t){return r.a.createElement(K.a,{className:e.high},r.a.createElement("h3",null,"Severity: ",t.severity))})))}):r.a.createElement("div",null,r.a.createElement("h3",null,"No Conflicts Found")))))}a(360);var be=a(416);function ve(){return Math.round(20*Math.random())-10}function Ee(){var e=50+ve(),t=50+ve();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var xe=Object(E.a)(function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{boxShadow:e.shadows[5],width:"80%",height:"20%",borderRadius:"30px",textAlign:"center",backgroundColor:"seagreen",marginTop:"20px"}}});function ye(e){var t=xe(),a=r.a.useState(Ee),n=Object(l.a)(a,1)[0];return r.a.createElement("div",null,r.a.createElement(v.a,{className:t.button,type:"button",onClick:e.handleOpen,variant:"contained",color:"primary"},"Add Drug"),r.a.createElement(be.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:e.open,onClose:e.handleClose},r.a.createElement("div",{style:n,className:t.paper},r.a.createElement("h2",{id:"simple-modal-title"},"Please enter your drug routine:",r.a.createElement("br",null)),r.a.createElement("form",null,r.a.createElement(D.a,{name:"name",label:"Enter drug name here",variant:"filled",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement(D.a,{type:"text",label:"Last date taken? ex: '2020-11-30'",variant:"filled",name:"lastTakenDate",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement(D.a,{type:"text",label:"Last time taken? (military time) ex: '18:30'",variant:"filled",name:"lastTakenTime",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement(D.a,{type:"text",label:"Intake frequency? (in hours) ex: '4'",variant:"filled",name:"frequency",onChange:e.handleInputChange,fullWidth:!0}),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:e.handleFormSubmit},"Submit")))))}var we=a(184),ke=a.n(we),Te=a(55),Oe=a(417),je=a(67),Ce=function(e){var t=Object(E.a)(function(e){return{root:{flexGrow:1},quarterOne:{backgroundColor:"white"},quarterTwo:{backgroundColor:"lightgreen"},quarterThree:{backgroundColor:"yellow"},quarterFour:{backgroundColor:"white"},eatNow:{backgroundColor:"red"},foo:function(e){return{backgroundColor:e.backgroundColor}},addDrug:{padding:e.spacing(2),textAlign:"center",backgroundColor:"black",color:"white",fontWeight:"900",align:"left"},pillGrid2:{textAlign:"left",color:je.black,fontWeight:"bold",fontSize:"14px",width:"20.5%"},pillGridCell:{textAlign:"left",color:je.black,fontWeight:"bold",fontSize:"14px",width:"20.5%"}}}),a="quarterOne"===e.currentQuarter?{backgroundColor:"white"}:"quarterTwo"===e.currentQuarter?{backgroundColor:"green"}:"quarterThree"===e.currentQuarter?{backgroundColor:"yellow"}:"quarterFour"===e.currentQuarter?{backgroundColor:"orange"}:"eatNow"===e.currentQuarter?{backgroundColor:"red"}:void 0;console.log(a);var n=t(a);return r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement(Te.TableRow,{className:"".concat(n.pillGrid3," ").concat(n.foo)},r.a.createElement(Oe.a,{className:n.pillGrid2},e.name),r.a.createElement(Oe.a,{className:n.pillGrid2},e.lastTakenDate),r.a.createElement(Oe.a,{className:n.pillGrid2},e.lastTakenTime),r.a.createElement(Oe.a,{className:n.pillGrid2},e.frequency),r.a.createElement(Oe.a,{className:n.pillGrid2},r.a.createElement(v.a,{variant:"contained"},r.a.createElement(ae.a,{onClick:function(){return e.handleDrugRemove(e.id)}}))),r.a.createElement(Oe.a,{className:n.pillGridCell},r.a.createElement(v.a,{variant:"contained"},r.a.createElement(ke.a,{onClick:function(){return e.handleDrugTaken(e.id)}})))))},Ne=a(371),Se=Object(E.a)(function(e){var t;return{root:{flexGrow:1},addDrug:(t={padding:e.spacing(2),textAlign:"center",color:e.palette.text.primary,backgroundColor:"seagreen"},Object(j.a)(t,"color","white"),Object(j.a)(t,"fontWeight","900"),Object(j.a)(t,"align","left"),Object(j.a)(t,"overflow","auto"),Object(j.a)(t,"fontFamily","Roboto, sans-serif"),t),title:{padding:e.spacing(2),textAlign:"center",backgroundColor:"#23395d",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Roboto, sans-serif"},titleText:{textAlign:"center",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Roboto, sans-serif"},title2:{padding:e.spacing(2),textAlign:"center",backgroundColor:"seagreen",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Roboto, sans-serif",margin:"3%",marginBottom:"0"},title3:{padding:e.spacing(2),textAlign:"center",color:"white",fontWeight:"800",fontSize:"30px",fontFamily:"Roboto, sans-serif"},pillGrid2:{textAlign:"left",color:"midnightblue",fontWeight:"bold",fontSize:"14px",width:"20%"},removeCheckbox:{displayRowCheckbox:"false"},modal:{}}});function De(){var e=Se(),t=Object(n.useState)({}),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)({}),s=Object(l.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(!1),g=Object(l.a)(d,2),p=g[0],f=g[1],h=Object(n.useState)([]),v=Object(l.a)(h,2),E=v[0],x=v[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),k=w[0],T=w[1],O=Object(n.useState)([]),N=Object(l.a)(O,2),S=N[0],D=N[1],A=function(){f(!1)};Object(n.useEffect)(function(){(function(){var e=Object(Z.a)(V.a.mark(function e(){var t,a,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.dashboard(b.getToken());case 2:return t=e.sent,c(t.data.user),console.log(t),e.next=7,L.getAllUserDrugs(t.data.user._id,b.getToken());case 7:return a=e.sent,console.log(a),x(a.data),L.saveDrugtoUser(t.data,b.getToken()).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),e.next=13,q(a.data);case 13:n=e.sent,D(n);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[k]);var I=function(e){L.removeDrug(e,b.getToken()).then(function(e){T(E.length)}).catch(function(e){return console.log(e)})},B=0,W=function(e){var t=Ne().format().split("T"),a=t[0],n=t[1].split(":"),r="".concat(n[0],":").concat(n[1]);L.drugTaken(e,{lastTakenDate:a,lastTakenTime:r},b.getToken()).then(function(e){T(B++)}).catch(function(e){return console.log(e)})},R=function(){var e=Object(Z.a)(V.a.mark(function e(t){var a,n;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map(function(e){return{id:e._id,combinedTime:"".concat(e.lastTakenDate," ").concat(e.lastTakenTime),frequency:parseInt(e.frequency)}});case 2:return a=e.sent,console.log(a),e.next=6,a.map(function(e){return{id:e.id,prediction:F(e.combinedTime,e.frequency)}});case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(Z.a)(V.a.mark(function e(t){var a,n,r;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ne().format("YYYY-MM-DD hh:mm a"),e.next=3,R(t);case 3:return n=e.sent,console.log("Current time: ",a),console.log(n),e.next=8,n.map(function(e){var t=Ne(a).isBefore(e.prediction[0]),n=Ne(a).isBetween(e.prediction[0],e.prediction[1],"minutes","[)"),r=Ne(a).isBetween(e.prediction[1],e.prediction[2],"minutes","[)"),o=Ne(a).isBetween(e.prediction[2],e.prediction[3],"minutes","[)"),c=Ne(a).isBetween(e.prediction[3],a,"minutes","[]");return console.log(e.id),console.log("Quarter 1 Met: ",t),console.log("Quarter 2 Met: ",n),console.log("Quarter 3 Met: ",r),console.log("Quarter 4 Met: ",o),t?"quarterOne":n?"quarterTwo":r?"quarterThree":o?"quarterFour":c?"eatNow":void 0});case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(Z.a)(V.a.mark(function e(t){var a;return V.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,z(t).then(function(e){a=t.map(function(t,a){return Object(C.a)({},t,{currentQuarter:e[a]})})}).catch(function(e){return console.log(e)});case 3:return console.log("FINALLLLL: ",a),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),F=function(e,t){var a=U(t/4);console.log(a);var n=[],r=G(e,a);console.log("First Q: ",typeof r),n.push(r);var o=G(r,a);console.log("Added min 2: ",o),n.push(o);var c=G(o,a);console.log("Added min 3: ",c),n.push(c);var l=G(c,a);return console.log("Take now: ",l),n.push(l),console.log("Future Prediction :",n),n},G=function(e,t){return Ne(e).add(t,"minutes").format("YYYY-MM-DD hh:mm a")},U=function(e){var t=60*(e-Math.floor(e));return 60*Math.floor(e)+t};return r.a.createElement("div",{className:e.root,style:{overflowX:"hidden",overflowY:"hidden"}},r.a.createElement(ee.a,{container:!0,spacing:2},r.a.createElement(ee.a,{item:!0,xs:12,className:e.title2},r.a.createElement("p",{className:e.titleText},"My Pills Tracker"),r.a.createElement(Te.Table,null,r.a.createElement(Te.TableBody,{displayRowCheckbox:!1},r.a.createElement(Te.TableRow,null,r.a.createElement(Te.TableRow,null,r.a.createElement(Oe.a,{className:e.pillGrid2},"Pill Name"),r.a.createElement(Oe.a,{className:e.pillGrid2},"Last Date"),r.a.createElement(Oe.a,{className:e.pillGrid2},"Last Time"),r.a.createElement(Oe.a,{className:e.pillGrid2},"Frequency (hours)"),r.a.createElement(Oe.a,{className:e.pillGrid2},"Delete?"),r.a.createElement(Oe.a,{className:e.pillGrid2},"Take Pill")),S.map(function(e){return r.a.createElement(Ce,{id:e._id,key:e._id,name:e.name,frequency:e.frequency,lastTakenDate:e.lastTakenDate,lastTakenTime:e.lastTakenTime,handleDrugRemove:I,handleDrugTaken:W,currentQuarter:e.currentQuarter})}))))),r.a.createElement(ee.a,{item:!0,xs:3,className:e.title3},r.a.createElement(ye,{className:e.modal,name:"Drug 1",user_id:o._id,handleInputChange:function(e){var t=e.target,a=t.name,n=t.value;m(Object(C.a)({},u,Object(j.a)({},a,n))),console.log(u)},handleFormSubmit:function(e){if(e.preventDefault(),console.log("Drug Details: ",u.lastTakenDate,u.lastTakenTime,u.frequency),u.lastTakenDate&&u.frequency&&u.lastTakenTime){if(console.log("before API front end"),console.log("current user, ",o._id),isNaN(u.frequency))return alert("Must input a number for how often the drug should be taken."),!1;L.saveDrug({name:u.name,lastTakenDate:u.lastTakenDate,lastTakenTime:u.lastTakenTime,frequency:parseInt(u.frequency),user:o._id},b.getToken()).then(function(e){console.log(e),T(E.length+5)}).then(function(e){return A()}).catch(function(e){return console.log(e)})}},handleOpen:function(){f(!0)},handleClose:A,open:p})),r.a.createElement(ee.a,{item:!0,xs:4})),r.a.createElement("div",{style:{marginTop:"0px",marginBottom:"40px"}}," "))}var Ae=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)(function(){c()},[]);var c=function(){o(b.isUserAuthenticated())};return r.a.createElement("div",{className:"body",style:{height:"100vh"}},r.a.createElement(m.a,{muiTheme:s()()},r.a.createElement(d.a,null,r.a.createElement("div",{className:"appBar2"},a?r.a.createElement("div",null,r.a.createElement("img",{src:I.a,className:"navTitle",alt:"Druggler Icon",height:"30px",width:"50px",style:{paddingLeft:"30px",margin:"0px",marginTop:"20px"}}),r.a.createElement("div",{className:"navTitle",style:{margin:"0px",fontFamily:"Ubuntu, sans-serif"}},"Druggler"),r.a.createElement(x.a.div,{whileHover:{y:4}},r.a.createElement(d.b,{className:"navButton",to:"/logout",color:"error"}," ","Log out"," ")),r.a.createElement(x.a.div,{whileHover:{y:4}},r.a.createElement(d.b,{className:"navButton",to:"/dashboard"}," ","My Pills"," ")),r.a.createElement(x.a.div,{whileHover:{y:4}},r.a.createElement(d.b,{className:"navButton",to:"/interactions"}," ","Interactions"," "))):r.a.createElement("div",{className:"header"})),r.a.createElement(O,{exact:!0,path:"/",component:y,toggleAuthenticateStatus:c}),r.a.createElement(k,{path:"/dashboard",component:De}),r.a.createElement(k,{path:"/interactions",component:he}),r.a.createElement(T,{path:"/login",component:q,toggleAuthenticateStatus:c}),r.a.createElement(T,{path:"/signup",component:P}),r.a.createElement(g.b,{path:"/logout",component:F}))))},Ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(Ae,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ie?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Be(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Be(e)})}}()},69:function(e,t,a){e.exports=a.p+"static/media/pillsIcon.c235a917.png"}},[[202,1,2]]]);
//# sourceMappingURL=main.bee4ef31.chunk.js.map